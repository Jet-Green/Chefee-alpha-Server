import{g as ie,m as oe,V as ue,u as E,a as ce,b as de,c as S,r as z,i as re,d as G,p as pe,w as ve,e as O,f as a,h as N,j as fe,k as me,l as _e,n as U,o as f,q as y,s as l,t as r,v as n,x as I,y as _,z as he,F as T,A as D,B as g,C as V,D as h,E as ge,G as ye,H as Ve,I as X,J as ke,K as Ce,L as J,M as K,N as Q,O as W,P as Se,Q as Ie,R as A,S as be,T as $,U as xe,W as Re,X as Pe,Y as Be,Z as we,_ as Ae,$ as $e,a0 as Te,a1 as De,a2 as qe,a3 as Fe,a4 as He,a5 as je,a6 as Ge,a7 as Me,a8 as M,a9 as Le,aa as Ee,ab as R,ac as ze,ad as P,ae as Oe,af as L,ag as Ne,ah as Ue,ai as Xe,aj as Je,ak as Ke,al as Qe}from"./index.396e272c.js";import{_ as We,V as Ye,a as Ze,b as ea,R as aa,H as la}from"./VList.302a4e01.js";const ta=ie()({name:"VMenu",inheritAttrs:!1,props:{modelValue:Boolean,id:String,...oe({transition:{component:ue}})},emits:{"update:modelValue":e=>!0},setup(e,d){let{attrs:c,slots:p}=d;const t=E(e,"modelValue"),{scopeId:s}=ce(),m=de(),v=S(()=>e.id||`v-menu-${m}`),o=z(),i=re(G,null);let k=0;pe(G,{register(){++k},unregister(){--k},closeParents(){setTimeout(()=>{k||(t.value=!1,i==null||i.closeParents())},40)}}),ve(t,C=>{C?i==null||i.register():i==null||i.unregister()});function B(){i==null||i.closeParents()}return O(()=>a(fe,N({ref:o,modelValue:t.value,"onUpdate:modelValue":C=>t.value=C,class:["v-menu"],transition:e.transition,absolute:!0,closeOnContentClick:!0,locationStrategy:"connected",scrollStrategy:"reposition",scrim:!1,openDelay:"300",closeDelay:"250",activatorProps:{"aria-haspopup":"menu","aria-expanded":String(t.value),"aria-owns":v.value},"onClick:outside":B},s,c),{default:p.default,activator:p.activator})),me({id:v},o)}}),sa=e=>(ye("data-v-fe66df28"),e=e(),Ve(),e),na={class:"recipe-card"},ia={style:{"font-weight":"500"}},oa={key:0},ua={key:1},ca=sa(()=>I("span",{class:"material-icons"},"expand_more",-1)),da={__name:"RecipeCard",props:["_id"],setup(e){const d=e,c=_e(),p=U();let t=d._id,s=S(()=>p.recipesToShow.find(v=>v._id==t)),m=S(()=>(s.value.health.protein/61.25*2.5+s.value.health.fat/61.25*2.5+s.value.health.carbohydrates/61.25*2.5+s.value.health.kcal/700*2.5).toFixed(1));return(v,o)=>(f(),y("div",na,[a(h,{class:"recipe-info-section",gutter:"16"},{default:l(()=>[a(r,{cols:"12",md:"5",onClick:o[0]||(o[0]=i=>n(c).push({name:"RecipePage",query:{_id:n(s)._id},params:{recipe:n(s)}})),style:{cursor:"pointer"}},{default:l(()=>[I("h2",ia,_(n(s).title),1)]),_:1}),a(r,{class:"d-flex align-center",style:{"justify-content":"end"}},{default:l(()=>[a(ta,{"close-on-content-click":!1},{activator:l(({props:i})=>[I("div",N(i,{class:"ingr-dropdown"}),[n(p).requestsHistory.length?(f(),y("div",ua," \u0415\u0441\u0442\u044C "+_(n(p).requestsHistory.length)+" \u0438\u0437 "+_(n(s).ingredients.length)+" \u0438\u043D\u0433\u0440\u0435\u0434\u0438\u0435\u043D\u0442\u043E\u0432 ",1)):(f(),y("div",oa,_(n(s).ingredients.length)+" \u0438\u043D\u0433\u0440\u0435\u0434\u0438\u0435\u043D\u0442\u043E\u0432 ",1)),ca],16)]),default:l(()=>[a(he,{"min-width":"100"},{default:l(()=>[a(Ye,null,{default:l(()=>[(f(!0),y(T,null,D(n(s).ingredients,i=>(f(),g(ea,null,{default:l(()=>[V(_(i.name)+" ",1),a(Ze)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1}),a(r,{class:"d-flex align-center",style:{"justify-content":"end"}},{default:l(()=>[V(_(n(s).portions)+" \u043F\u043E\u0440\u0446\u0438\u0439 ",1)]),_:1}),a(r,{class:"d-flex align-center",style:{"justify-content":"end"}},{default:l(()=>[V(_(n(s).time),1)]),_:1})]),_:1}),a(h,{class:"photo-section",onClick:o[1]||(o[1]=i=>n(c).push({name:"RecipePage",query:{_id:n(s)._id},params:{recipe:n(s)}})),style:{cursor:"pointer"}},{default:l(()=>[a(r,null,{default:l(()=>[a(ge,{src:n(s).previewImage},null,8,["src"])]),_:1})]),_:1}),a(h,{class:"rating-section"},{default:l(()=>[a(r,{class:"d-flex align-center"},{default:l(()=>[a(aa,{_id:n(t),rating:n(s)},null,8,["_id","rating"])]),_:1}),a(r,null,{default:l(()=>[a(la,{healthIndex:n(m)},null,8,["healthIndex"])]),_:1})]),_:1})]))}},ra=We(da,[["__scopeId","data-v-fe66df28"]]);const Y=Symbol.for("vuetify:v-chip-group");X({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:ke},...Ce({selectedClass:"v-chip--selected"}),...J(),...K(),...Q({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:c}=d;const{themeClasses:p}=W(e),{isSelected:t,select:s,next:m,prev:v,selected:o}=Se(e,Y);return Ie({VChip:{color:A(e,"color"),filter:A(e,"filter"),variant:A(e,"variant")}}),O(()=>{var i;return a(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},p.value]},{default:()=>[(i=c.default)==null?void 0:i.call(c,{isSelected:t,select:s,next:m,prev:v,selected:o.value})]})}),{}}});const pa=X({name:"VChip",directives:{Ripple:be},props:{activeClass:String,appendAvatar:String,appendIcon:$,closable:Boolean,closeIcon:{type:$,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,pill:Boolean,prependAvatar:String,prependIcon:$,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},...xe(),...Re(),...Pe(),...Be(),...we(),...Ae(),...$e(),...J({tag:"span"}),...K(),...Q({variant:"tonal"})},emits:{"click:close":e=>!0,"update:active":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0},setup(e,d){let{attrs:c,emit:p,slots:t}=d;const{borderClasses:s}=Te(e),{colorClasses:m,colorStyles:v,variantClasses:o}=De(e),{densityClasses:i}=qe(e),{elevationClasses:k}=Fe(e),{roundedClasses:B}=He(e),{sizeClasses:C}=je(e),{themeClasses:Z}=W(e),q=E(e,"modelValue"),u=Ge(e,Y,!1),w=Me(e,c);function ee(b){q.value=!1,p("click:close",b)}return()=>{var b,F;const ae=w.isLink.value?"a":e.tag,le=!!(t.append||e.appendIcon||e.appendAvatar),te=!!(t.close||e.closable),H=!!(t.filter||e.filter)&&u,se=!!(t.prepend||e.prependIcon||e.prependAvatar),j=!u||u.isSelected.value,x=!e.disabled&&(!!u||w.isClickable.value||e.link),ne=e.link?e.link:u==null?void 0:u.toggle;return q.value&&M(a(ae,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x,"v-chip--filter":H,"v-chip--pill":e.pill},Z.value,s.value,j?m.value:void 0,i.value,k.value,B.value,C.value,o.value,u==null?void 0:u.selectedClass.value],style:[j?v.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:w.href.value,onClick:x&&ne},{default:()=>[Ee(x,"v-chip"),H&&a(R,{key:"filter",defaults:{VIcon:{icon:e.filterIcon}}},{default:()=>[a(ze,null,{default:()=>[M(a("div",{class:"v-chip__filter"},[t.filter?t.filter():a(P,null,null)]),[[Oe,u.isSelected.value]])]})]}),se&&a(R,{key:"prepend",defaults:{VAvatar:{image:e.prependAvatar},VIcon:{icon:e.prependIcon}}},{default:()=>[t.prepend?a("div",{class:"v-chip__prepend"},[t.prepend()]):e.prependAvatar?a(L,{start:!0},null):e.prependIcon?a(P,{start:!0},null):void 0]}),(b=(F=t.default)==null?void 0:F.call(t,{isSelected:u==null?void 0:u.isSelected.value,selectedClass:u==null?void 0:u.selectedClass.value,select:u==null?void 0:u.select,toggle:u==null?void 0:u.toggle,value:u==null?void 0:u.value.value,disabled:e.disabled}))!=null?b:e.text,le&&a(R,{key:"append",defaults:{VAvatar:{image:e.appendAvatar},VIcon:{icon:e.appendIcon}}},{default:()=>[t.append?a("div",{class:"v-chip__append"},[t.append()]):e.appendAvatar?a(L,{end:!0},null):e.appendIcon?a(P,{end:!0},null):void 0]}),te&&a(R,{key:"close",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},{default:()=>[a("div",{class:"v-chip__close",onClick:ee},[t.close?t.close():a(P,null,null)])]})]}),[[Le("ripple"),x&&e.ripple,null]])}}}),va=V("\u041F\u043E\u0438\u0441\u043A \u043F\u043E \u0444\u043E\u0442\u043E"),fa=["onClick"],ma=V(" \u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0448\u043B\u043E\u0441\u044C "),ga={__name:"RecipesFeed",setup(e){let d=U(),c=z(""),p=S(()=>d.requestsHistory),t=S(()=>d.recipesToShow);function s(){c.value.trim()&&(d.setSearchRequest(c.value.trim()),d.fetchReipesByStrSearch())}return Ne(()=>{d.fetchAllRecipes()}),(m,v)=>(f(),g(h,{class:"d-flex justify-center"},{default:l(()=>[a(r,{cols:"12",sm:"8",md:"6"},{default:l(()=>[a(h,{class:"d-flex d-md-none justify-space-between"},{default:l(()=>[a(r,{cols:"12"},{default:l(()=>[a(Ue,{class:"w-100",onSubmit:Xe(s,["prevent"])},{default:l(()=>[a(Je,{variant:"outlined",density:"compact",placeholder:"\u041F\u043E\u0438\u0441\u043A \u043F\u043E \u0438\u043D\u0433\u0440\u0435\u0434\u0438\u0435\u043D\u0442\u0430\u043C \u0438\u043B\u0438 \u043F\u043E \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044E","hide-details":"auto",class:"search-input",modelValue:n(c),"onUpdate:modelValue":v[0]||(v[0]=o=>Ke(c)?c.value=o:c=o)},{"append-inner":l(()=>[I("span",{class:"material-icons",onClick:s},"search")]),_:1},8,["modelValue"])]),_:1},8,["onSubmit"])]),_:1}),a(r,{cols:"12"},{default:l(()=>[a(Qe,{class:"accent-button"},{default:l(()=>[va]),_:1})]),_:1})]),_:1}),a(h,null,{default:l(()=>[a(r,null,{default:l(()=>[(f(!0),y(T,null,D(n(p),o=>(f(),g(pa,{color:"accent",class:"ma-1"},{append:l(()=>[I("span",{class:"material-icons",onClick:i=>n(d).deleteFromReqHistory(o),style:{cursor:"pointer"}},"close",8,fa)]),default:l(()=>[V(_(o)+" ",1)]),_:2},1024))),256))]),_:1})]),_:1}),n(t).length?(f(),g(h,{key:0,class:"mt-6"},{default:l(()=>[(f(!0),y(T,null,D(n(t),o=>(f(),g(r,{cols:"12"},{default:l(()=>[a(ra,{_id:o._id},null,8,["_id"])]),_:2},1024))),256))]),_:1})):(f(),g(h,{key:1,style:{display:"flex","text-align":"center"}},{default:l(()=>[a(r,null,{default:l(()=>[ma]),_:1})]),_:1}))]),_:1})]),_:1}))}};export{ga as default};
